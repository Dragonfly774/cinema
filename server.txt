1 gitbash 
2 cd ~
3 ssh-keygen
4 cd .ssh

5 cat id_rsa_test.pub
6 ssh root@x.x.x.x
7 sudo apt-get update
8 sudo apt-get install python3 python3-pip python3-dev gcc git nginx
9 cd /var/www/
10 git clone {.....}
11 cd 
12  pip3 install -r requirements.txt
12cd ..
14 nano vvm.script

#!/bin/bash
cd /root/att_flask_ya_l/
sudo /usr/bin/python3 main.py  > /dev/null

15 chmod a+x vvm.script
16 crontab -e

@reboot /root/vvm.script


Настройка файрвола
$ sudo apt-get install -y ufw
$ sudo ufw allow ssh
$ sudo ufw allow http
$ sudo ufw allow 443/tcp
$ sudo ufw --force enable
$ sudo ufw status

Настройка nginx
После установки сразу же посмотрим статус веб-сервера/
sudo service nginx status
Посмотреть версию установленного Nginx можно с помощью команды nginx -v.
nginx -v
Если у вас Nginx не запустился, запустите его командой:
sudo service nginx start
Добавить Nginx в автозагрузку, можно командой:
sudo systemctl enable nginx
Если вдруг он вам не нужен в автозагрузке, то удалить Nginx из автозагрузки можно командой:
sudo systemctl disable nginx



mkdir certs #сделаем пока самоподписанные сертификаты
openssl req -new -newkey rsa:4096 -days 365 -nodes -x509 -keyout certs/key.pem -out certs/cert.pem
sudo rm /etc/nginx/sites-enabled/default
sudo nano /etc/nginx/sites-enabled/catsanddogs

server {
    # прослушивание порта 80 (http)
    listen 80;
    server_name _;
    location / {
        # перенаправлять любые запросы на один и тот же URL-адрес, как на https
        return 301 https://$host$request_uri;
    }
}
server {
    # прослушивание порта 443 (https)
    listen 443 ssl;
    server_name _;

    # расположение self-signed SSL-сертификата
    ssl_certificate /root/att_flask_ya_l/certs/cert.pem;
    ssl_certificate_key /root/att_flask_ya_l/certs/key.pem;

    # запись доступа и журналы ошибок в /var/log
    access_log /var/log/catsanddogs_access.log;
    error_log /var/log/catsanddogs_error.log;

    location / {
        # переадресация запросов приложений на сервер waitress
        proxy_pass http://localhost:8000;
        proxy_redirect off;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }

}

sudo service nginx reload

Привязка к доменному имени


Получение настоящего сертификата на свой домен
sudo snap install --classic certbot
sudo certbot --nginx